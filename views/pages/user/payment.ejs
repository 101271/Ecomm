<% layout('./layout/boilerplate') -%>
<div class="main_container">
  <div class="container_payment">
    <h2>Secure Payment</h2>

    <!-- Payment Tabs -->
    <div class="payment-tabs">
      <button class="tab-btn active" data-target="card">
        Credit/Debit Card
      </button>
      <button class="tab-btn" data-target="upi">UPI</button>
      <button class="tab-btn" data-target="cod">Cash on Delivery</button>
    </div>

    <form id="paymentForm" action="/orders" method="GET">
      <!-- CARD -->
      <div class="payment-method active" id="card">
        <div class="form-group">
          <label>Cardholder Name</label>
          <input type="text" id="cardName" placeholder="John Doe" />
        </div>
        <div class="form-group">
          <label>Card Number</label>
          <input
            type="text"
            id="cardNumber"
            placeholder="1234 5678 9012 3456"
            maxlength="19"
          />
        </div>
        <div class="form-row">
          <div class="form-group">
            <label>Expiry</label>
            <input type="text" id="expiry" placeholder="MM/YY" maxlength="5" />
          </div>
          <div class="form-group">
            <label>CVV</label>
            <input type="password" id="cvv" placeholder="123" maxlength="4" />
          </div>
        </div>
      </div>

      <!-- UPI -->
      <div class="payment-method" id="upi">
        <div class="form-group">
          <label>UPI ID</label>
          <input type="text" id="upiId" placeholder="yourname@upi" />
        </div>
      </div>

      <!-- COD -->
      <div class="payment-method" id="cod">
        <p><strong>Pay with cash at the time of delivery.</strong></p>
      </div>

      <p class="error" id="errorMsg"></p>
      <button type="submit" class="btn">Pay $<%= totalPrice %></button>
    </form>

    <% Product.forEach((Data)=>{ %>
    <div class="product-summary">
      <img src="<%= Data.product.image.url %>" alt="Product" />
      <div class="product-info">
        <h3><%= Data.product.name %></h3>
        <p>Qty: <%= Data.Quantity %></p>
        <p><strong>$<%= Data.product.price %></strong></p>
      </div>
    </div>
    <% }) %>
  </div>
</div>
